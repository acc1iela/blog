---
interface Heading {
  depth: number;
  slug: string;
  text: string;
}

interface Props {
  headings: Heading[];
}

const { headings } = Astro.props;
const filteredHeadings = headings.filter((h) => h.depth >= 2 && h.depth <= 3);
---

<nav class="text-sm">
  <h2 class="font-bold text-gray-900 dark:text-gray-100 mb-4">
    目次
  </h2>
  <ul class="space-y-2">
    {filteredHeadings.map((heading) => (
      <li
        class:list={[
          heading.depth === 3 && 'ml-4',
        ]}
      >
        <a
          href={`#${heading.slug}`}
          class="text-gray-500 dark:text-gray-400 hover:text-accent transition-colors"
        >
          {heading.text}
        </a>
      </li>
    ))}
  </ul>
</nav>
