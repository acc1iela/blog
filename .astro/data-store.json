[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.16.8","content-config-digest","74395ff2c1415da1","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://accio-blog.vercel.app\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false}}","blog",["Map",11,12,52,53,126,127],"rebuild",{"id":11,"data":13,"body":21,"filePath":22,"digest":23,"rendered":24,"legacyId":51},{"title":14,"description":15,"tags":16,"publishedAt":19,"draft":20},"ブログをAstroで作り直した","Next.jsで作ってた個人ブログをAstroで書き直した話",[17,18],"雑記","Astro",["Date","2026-01-11T00:00:00.000Z"],false,"## 作り直した理由\n\n元々Next.js + Sanityで作ってましたが、正直ブログにはオーバースペックだったと思います。\nAPIルートもサーバーアクションも使わないし、Sanityの管理画面を開くのも面倒になってました。\n\n前から気になってたAstroを試してみようと。\n\n## Astro の良いところ\n\n### Markdown をそのまま記事にできる\n\n`src/content/blog/` にmdファイルを置くだけで記事になります。\nCMSにログインして記事書いて...みたいな手間がない。エディタで書いてpushすれば終わりです。\n\n### 必要なところだけ React が使える\n\n基本は静的HTMLを吐くだけなんですが、検索ボックスとかダークモード切替みたいな\nインタラクティブな部分だけReactコンポーネントを使えます。\n\n```astro\n\u003C!-- 静的な部分はそのまま -->\n\u003CHeader />\n\n\u003C!-- ここだけReactでハイドレート -->\n\u003CSearchBox client:load />\n```\n\n### ビルドが爆速\n\nNext.jsより明らかに速いと思います。記事増えてもそんなに変わらなそうです。\n\n## 構成\n\n- Astro 5\n- Tailwind CSS\n- Content Collections（Markdown 管理）\n- Vercel にデプロイ\n\nシンプルで気に入ってる。\nけどAstro使いこなせてる感は全くないのでもっとちゃんと勉強しなくては","src/content/blog/rebuild.md","fdade1decfbc853e",{"html":25,"metadata":26},"\u003Ch2 id=\"作り直した理由\">作り直した理由\u003C/h2>\n\u003Cp>元々Next.js + Sanityで作ってましたが、正直ブログにはオーバースペックだったと思います。\nAPIルートもサーバーアクションも使わないし、Sanityの管理画面を開くのも面倒になってました。\u003C/p>\n\u003Cp>前から気になってたAstroを試してみようと。\u003C/p>\n\u003Ch2 id=\"astro-の良いところ\">Astro の良いところ\u003C/h2>\n\u003Ch3 id=\"markdown-をそのまま記事にできる\">Markdown をそのまま記事にできる\u003C/h3>\n\u003Cp>\u003Ccode>src/content/blog/\u003C/code> にmdファイルを置くだけで記事になります。\nCMSにログインして記事書いて…みたいな手間がない。エディタで書いてpushすれば終わりです。\u003C/p>\n\u003Ch3 id=\"必要なところだけ-react-が使える\">必要なところだけ React が使える\u003C/h3>\n\u003Cp>基本は静的HTMLを吐くだけなんですが、検索ボックスとかダークモード切替みたいな\nインタラクティブな部分だけReactコンポーネントを使えます。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"astro\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 静的な部分はそのまま -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">Header\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- ここだけReactでハイドレート -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">SearchBox\u003C/span>\u003Cspan style=\"color:#B392F0\"> client:load\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"ビルドが爆速\">ビルドが爆速\u003C/h3>\n\u003Cp>Next.jsより明らかに速いと思います。記事増えてもそんなに変わらなそうです。\u003C/p>\n\u003Ch2 id=\"構成\">構成\u003C/h2>\n\u003Cul>\n\u003Cli>Astro 5\u003C/li>\n\u003Cli>Tailwind CSS\u003C/li>\n\u003Cli>Content Collections（Markdown 管理）\u003C/li>\n\u003Cli>Vercel にデプロイ\u003C/li>\n\u003C/ul>\n\u003Cp>シンプルで気に入ってる。\nけどAstro使いこなせてる感は全くないのでもっとちゃんと勉強しなくては\u003C/p>",{"headings":27,"localImagePaths":45,"remoteImagePaths":46,"frontmatter":47,"imagePaths":50},[28,31,34,38,41,43],{"depth":29,"slug":30,"text":30},2,"作り直した理由",{"depth":29,"slug":32,"text":33},"astro-の良いところ","Astro の良いところ",{"depth":35,"slug":36,"text":37},3,"markdown-をそのまま記事にできる","Markdown をそのまま記事にできる",{"depth":35,"slug":39,"text":40},"必要なところだけ-react-が使える","必要なところだけ React が使える",{"depth":35,"slug":42,"text":42},"ビルドが爆速",{"depth":29,"slug":44,"text":44},"構成",[],[],{"title":14,"description":15,"tags":48,"publishedAt":49},[17,18],["Date","2026-01-11T00:00:00.000Z"],[],"rebuild.md","union_or_discriminatedunion",{"id":52,"data":54,"body":60,"filePath":61,"digest":62,"rendered":63,"legacyId":125},{"title":55,"description":56,"tags":57,"publishedAt":59,"draft":20},"Union型と判別可能ユニオンを使いこなしたい","TypeScriptの判別可能ユニオン（Discriminated Union）で型安全なコードを書く方法",[58],"TypeScript",["Date","2026-01-14T00:00:00.000Z"],"## そもそも Union 型とは\n\nTypeScriptを使っていると複数の型をまとめる **Union 型（共用体）** にお世話になることは多いと思います。\nただ、単に型を`|`で繋げただけでは型の絞り込み（Type Narrowing）がうまくいかずコードが冗長になったり予期せぬバグを生んだりすることがあります。\n\nそこで登場するのが、**判別可能ユニオン（Discriminated Union）**。\nこの記事では通常のUnion型で起こりがちな問題とそれを判別可能ユニオンでどう解決するかそしてその強力なメリットについて解説したいと思います。\n\n## 単純なUnion型の落とし穴\n\n例えば、非同期処理の状態管理を考えてみましょう。\n「読み込み中」「成功」「失敗」の3つの状態を持つオブジェクトを定義したい場合です。\n\nまずは直感的に書いてしまいがちな「悪い例」です。\n\n```typescript\ntype State = {\n  status: 'loading' | 'success' | 'error';\n  data?: User;\n  error?: Error;\n};\n```\n\nこの定義でも動くには動きますが、大きな問題があります。\n**「不正な状態」を許容してしまう**ことです。\n\n例えば、以下のようなオブジェクトも型定義上は「正しい」ことになってしまいます。\n\n```typescript\n// statusは 'loading' なのに data がある？\nconst invalidState1: State = {\n  status: 'loading',\n  data: { id: 1, name: 'Alice' },\n};\n\n// statusは'success'なのにdataがない？\nconst invalidState2: State = {\n  status: 'success',\n  // dataプロパティが欠落していてもdata?なのでエラーにならない...\n};\n```\n\nまた、この型を使う側でも毎回プロパティの存在チェックが必要になります。\n\n```typescript\nfunction render(state: State) {\n  if (state.status === 'success') {\n    // state.dataはundefinedの可能性があるので、?.や!が必要になる...\n    console.log(state.data?.name);\n  }\n}\n```\n\nこれではTypeScriptの恩恵を十分に受けられていないと思います。\n\n## 判別可能ユニオン（Discriminated Union）の登場\n\nこの問題を解決するのが**判別可能ユニオン**です。\n\n判別可能ユニオンとは **「共通のリテラル型プロパティ（ディスクリミネータ）」を持つオブジェクト型の Union** のことです。\n\n先ほどの例をリファクタリングしてみましょう。\n\n```typescript\ntype LoadingState = {\n  status: 'loading';\n};\n\ntype SuccessState = {\n  status: 'success';\n  data: User;\n};\n\ntype ErrorState = {\n  status: 'error';\n  error: Error;\n};\n\n// これらを Union でまとめる\ntype State = LoadingState | SuccessState | ErrorState;\n```\n\nここでのポイントは以下の2点です。\n\n1. 各状態を個別の型として定義したこと\n2. 全ての型に共通の `status` プロパティ（ディスクリミネータ）を持たせ、それぞれ固有のリテラル型（`'loading'`, `'success'`, `'error'`）を割り当てたこと\n\n## なぜこれが嬉しいのか？（Type Narrowing）\n\n判別可能ユニオンを使う最大のメリットは、**制御フロー解析（Control Flow Analysis）による型の絞り込み**が効くこと。\n\n`if` 文や`switch`文で`status`をチェックするとTypeScriptは自動的にそのブロック内での型を特定してくれます。\n\n```typescript\nfunction render(state: State) {\n  if (state.status === 'loading') {\n    // ここでは state は LoadingState 型として扱われる\n    console.log('Loading...');\n  } else if (state.status === 'success') {\n    // ここでは state は SuccessState 型として扱われる\n    // そのため、data プロパティには確実にアクセスできる（? や ! は不要！）\n    console.log(`Hello, ${state.data.name}`);\n  } else {\n    // ここでは state は ErrorState 型\n    console.error(state.error.message);\n  }\n}\n```\n\nこのように、`status`が`'success'`であることが確定した時点で`data`プロパティが存在することが保証されます。\n逆に`status`が`'loading'`のときに`data`にアクセスしようとするとコンパイルエラーになります。\n\nこれが「不正な状態を型レベルで防ぐ」ということになります。\n\n## 実践的なユースケース：状態管理とドメインモデル\n\n判別可能ユニオンは、単なるエラーハンドリングだけでなく、アプリケーションの状態管理やドメインモデリングでかなり役立つのではなかなと思います。\n\n### 1. 画面の UI 状態管理\n\n画面の描画状態を管理する際、`isLoading`や`isError`といった複数のフラグで管理しようとすると組み合わせの爆発が起き、あり得ない状態（ロード中かつエラー、など）が発生しがちです。\n\n```typescript\n// ❌ 悪い例：複数のフラグで管理\ntype UIState = {\n  isLoading: boolean;\n  isError: boolean;\n  data?: User;\n  error?: Error;\n};\n// isLoading: true, isError: true みたいな矛盾した状態が作れてしまう\n```\n\nこれを判別可能ユニオンで定義すれば、状態は常に一つであることが保証される。\n\n```typescript\n// ✅ 良い例：状態をユニオンで定義\ntype UIState =\n  | { status: 'idle' }\n  | { status: 'loading' }\n  | { status: 'success'; data: User }\n  | { status: 'error'; error: Error };\n```\n\n### 2. ドメインモデル：決済方法\n\nECサイトなどで、決済方法によって必要な情報が異なるケースも綺麗に表現できると思います。\n\n```typescript\ntype CreditCard = {\n  method: 'credit-card';\n  cardNumber: string;\n  cvc: string;\n  expirationDate: string;\n};\n\ntype BankTransfer = {\n  method: 'bank-transfer';\n  bankCode: string;\n  branchCode: string;\n  accountNumber: string;\n};\n\ntype PayPal = {\n  method: 'paypal';\n  email: string;\n};\n\ntype PaymentMethod = CreditCard | BankTransfer | PayPal;\n\nfunction processPayment(payment: PaymentMethod) {\n  switch (payment.method) {\n    case 'credit-card':\n      // payment は CreditCard 型\n      sendToPaymentGateway(payment.cardNumber);\n      break;\n    case 'bank-transfer':\n      // payment は BankTransfer 型\n      showBankInfo(payment.bankCode);\n      break;\n    case 'paypal':\n      // payment は PayPal 型\n      redirectToPayPal(payment.email);\n      break;\n  }\n}\n```\n\n## 深掘り：Optional Property (`?`) の危険性\n\nTypeScript初心者がやりがちなのがとりあえず`?`をつけてOptional Propertyにしてしまうことです。\nこれは多くの場合**「あり得ない状態」**を生み出す温床になります。\n\n### なぜ `?` は危険なのか\n\n例えば、ユーザーの設定情報を表す型を考えてみましょう。\n「通知設定がONの場合は、通知先のメールアドレスが必須」という仕様があるとします。\n\n```typescript\n// ❌ 危険な定義\ntype UserSettings = {\n  notificationsEnabled: boolean;\n  notificationEmail?: string; // ONのとき必須なのに、型上は省略可能...\n};\n```\n\nこの定義では、以下のバグを許容してしまいます。\n\n1. `notificationsEnabled: true` なのに `notificationEmail` が `undefined` になる\n2. `notificationsEnabled: false` なのに `notificationEmail` が入っている（これはバグではないかもしれないが、データの整合性としては不自然だと思います）\n\n### ユニオン型による解決\n\nこれを判別可能ユニオンで書き直すと仕様を型定義に直接落とし込むことができます。\n\n```typescript\n// ✅ 安全な定義\ntype NotificationsOn = {\n  enabled: true;\n  email: string; // 必須！\n};\n\ntype NotificationsOff = {\n  enabled: false;\n};\n\ntype UserSettings = NotificationsOn | NotificationsOff;\n\n// 使用例\nconst settings: UserSettings = {\n  enabled: true,\n  // email: 'test@example.com' // これを書き忘れるとコンパイルエラーになる！\n};\n```\n\nこのように**「値の組み合わせ」に制約を持たせる**ことができるのがユニオン型の強みです。\n単にプロパティをオプショナルにする前に「それは本当に独立して存在できる値なのか？それとも他の値と連動しているのか？」を考える癖をつけると堅牢な設計になります。\n\n### 3. API レスポンスのハンドリング\n\nAPIの結果を`Result`型として定義する場合によく使われる例です。\n\n```typescript\ntype Success\u003CT> = { type: 'ok'; value: T };\ntype Failure = { type: 'error'; error: Error };\n\ntype Result\u003CT> = Success\u003CT> | Failure;\n\nfunction handleResult(result: Result\u003CUser>) {\n  if (result.type === 'ok') {\n    console.log(result.value);\n  } else {\n    console.error(result.error);\n  }\n}\n```\n\n### 4. Reducer のアクション（Redux / useReducer）\n\nReduxやReactの`useReducer`を使う際のアクション定義はまさに判別可能ユニオンの教科書的な例だと思います。\n\n```typescript\ntype Action =\n  | { type: 'INCREMENT' }\n  | { type: 'DECREMENT' }\n  | { type: 'SET_VALUE'; payload: number };\n\nfunction reducer(state: number, action: Action) {\n  switch (action.type) {\n    case 'INCREMENT':\n      return state + 1;\n    case 'DECREMENT':\n      return state - 1;\n    case 'SET_VALUE':\n      // typeが 'SET_VALUE' のときだけ payload にアクセスできる\n      return action.payload;\n  }\n}\n```\n\n## TypeScript 5.x と `satisfies`\n\nTypeScript 4.9 (5.x 系でも重要) で導入された `satisfies` オペレーターを使うとユニオン型をより柔軟に扱えます。\n\n例えば、設定オブジェクトで「キーは決まっているが、値は文字列か RGB 配列のどちらか」というケースです。\n\n```typescript\ntype Color = string | readonly [number, number, number];\n\ntype ThemeConfig = {\n  primary: Color;\n  secondary: Color;\n};\n\nconst theme = {\n  primary: 'blue',\n  secondary: [255, 255, 255] as const,\n} satisfies ThemeConfig;\n\nconsole.log(theme.primary.toUpperCase());\nconsole.log(theme.secondary[0]);\n```\n\n注意点として配列リテラルは `as const` を付けないと `number[]` にワイドニングされてしまいます。\nタプル型として推論させたい場合は `as const` を明示的に付ける必要があります。\n\nもし `const theme: ThemeConfig = ...` と型注釈を書いてしまうと`theme.primary`は `string | readonly [number, number, number]` 型にワイドニング（広げられて）されてしまい`toUpperCase()`を呼ぶ前に型チェックが必要になってしまいます。`satisfies`はこの問題を解決します。\n\n## 現代技術との接続：ZodとRSC\n\n判別可能ユニオンは最新のライブラリやフレームワークとも相性抜群だと思います。\n\n### Zod によるランタイム型チェック\n\n外部からの入力（APIレスポンスやフォーム入力）を判別可能ユニオンとして検証するには[Zod](https://zod.dev/)の `z.discriminatedUnion` が便利です。\n\n```typescript\nimport { z } from 'zod';\n\nconst LoadingState = z.object({ status: z.literal('loading') });\nconst SuccessState = z.object({ status: z.literal('success'), data: z.string() });\nconst ErrorState = z.object({\n  status: z.literal('error'),\n  error: z.object({\n    message: z.string(),\n    code: z.string().optional(),\n  }),\n});\n\nconst StateSchema = z.discriminatedUnion('status', [LoadingState, SuccessState, ErrorState]);\n\n// 実行時にデータを検証し、型安全なオブジェクトを返す\nconst result = StateSchema.safeParse(apiResponse);\nif (result.success) {\n  const state = result.data; // ここで state は判別可能ユニオン型になる\n}\n```\n\n注意点としてAPIレスポンスなどの外部入力はプレーンなJSONで来るため`z.instanceof(Error)`のようなクラスインスタンスのチェックは通常使えないと思います。\n上記のようにシリアライズ可能なオブジェクト構造で定義するのが実務的かなと思います。\n\n### React Server Components (RSC)\n\nNext.jsなどのRSCではServer Actionからクライアントに結果を返す際に判別可能ユニオンが役立つと思います。\n\n```typescript\n// server-action.ts\n'use server';\n\ntype ActionState =\n  | { status: 'idle' }\n  | { status: 'success'; message: string }\n  | { status: 'error'; errors: Record\u003Cstring, string[]> };\n\nexport async function submitForm(prevState: ActionState, formData: FormData): Promise\u003CActionState> {\n  // ...処理...\n  if (error) {\n    return { status: 'error', errors: validationErrors };\n  }\n  return { status: 'success', message: '送信しました' };\n}\n```\n\nクライアント側では `status` をチェックするだけでエラー表示や成功メッセージの表示を安全に分岐できると思います。\n\n## 応用：網羅性チェック（Exhaustiveness Checking）\n\n判別可能ユニオンと `switch` 文を組み合わせる際、  **「全てのパターンを網羅しているか」** をコンパイラにチェックさせることができます。\nこれには `never` 型を利用しましょう。\n\n```typescript\nfunction assertNever(x: never): never {\n  throw new Error('Unexpected object: ' + x);\n}\n\nfunction render(state: State) {\n  switch (state.status) {\n    case 'loading':\n      return 'Loading...';\n    case 'success':\n      return `Hello ${state.data.name}`;\n    case 'error':\n      return `Error: ${state.error.message}`;\n    default:\n      // もし将来 State に新しい型（例: 'idle'）が追加された場合、\n      // ここで型エラーが発生するようになります。\n      return assertNever(state);\n  }\n}\n```\n\n`default`節で`state`を`never`型に代入しようとすることで、もし`case`の漏れがあれば`state`が`never`にならず（残りの型になるため）、コンパイルエラーが発生する。\nこれで将来的な仕様変更によるバグを未然に防げます。\n\n## まとめ\n\n- 単純なUnion型ではなく、**判別可能ユニオン（Discriminated Union）**を使う\n- 共通のプロパティ（ディスクリミネータ）を持たせることで TypeScript が型を自動的に絞り込んでくれる\n- これにより、`?`や`as`を使わずに安全にプロパティにアクセスでき、バグを減らせる\n- `never`型を使った網羅性チェックを導入すれば、保守性もさらに向上する\n\n型定義を少し工夫するだけで、コードの安全性と可読性は劇的に向上します。\n自分もまだまだ理解が甘い部分がありますが日々の勉強で少しずつ理解を深めていきたいと思います。","src/content/blog/union_or_discriminatedunion.md","a590e6ee9109c522",{"html":64,"metadata":65},"\u003Ch2 id=\"そもそも-union-型とは\">そもそも Union 型とは\u003C/h2>\n\u003Cp>TypeScriptを使っていると複数の型をまとめる \u003Cstrong>Union 型（共用体）\u003C/strong> にお世話になることは多いと思います。\nただ、単に型を\u003Ccode>|\u003C/code>で繋げただけでは型の絞り込み（Type Narrowing）がうまくいかずコードが冗長になったり予期せぬバグを生んだりすることがあります。\u003C/p>\n\u003Cp>そこで登場するのが、\u003Cstrong>判別可能ユニオン（Discriminated Union）\u003C/strong>。\nこの記事では通常のUnion型で起こりがちな問題とそれを判別可能ユニオンでどう解決するかそしてその強力なメリットについて解説したいと思います。\u003C/p>\n\u003Ch2 id=\"単純なunion型の落とし穴\">単純なUnion型の落とし穴\u003C/h2>\n\u003Cp>例えば、非同期処理の状態管理を考えてみましょう。\n「読み込み中」「成功」「失敗」の3つの状態を持つオブジェクトを定義したい場合です。\u003C/p>\n\u003Cp>まずは直感的に書いてしまいがちな「悪い例」です。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'loading'\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  data\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> User\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  error\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>この定義でも動くには動きますが、大きな問題があります。\n\u003Cstrong>「不正な状態」を許容してしまう\u003C/strong>ことです。\u003C/p>\n\u003Cp>例えば、以下のようなオブジェクトも型定義上は「正しい」ことになってしまいます。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// statusは 'loading' なのに data がある？\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> invalidState1\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  status: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'loading'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  data: { id: \u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, name: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Alice'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// statusは'success'なのにdataがない？\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> invalidState2\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  status: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // dataプロパティが欠落していてもdata?なのでエラーにならない...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>また、この型を使う側でも毎回プロパティの存在チェックが必要になります。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">state\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (state.status \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // state.dataはundefinedの可能性があるので、?.や!が必要になる...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(state.data?.name);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>これではTypeScriptの恩恵を十分に受けられていないと思います。\u003C/p>\n\u003Ch2 id=\"判別可能ユニオンdiscriminated-unionの登場\">判別可能ユニオン（Discriminated Union）の登場\u003C/h2>\n\u003Cp>この問題を解決するのが\u003Cstrong>判別可能ユニオン\u003C/strong>です。\u003C/p>\n\u003Cp>判別可能ユニオンとは \u003Cstrong>「共通のリテラル型プロパティ（ディスクリミネータ）」を持つオブジェクト型の Union\u003C/strong> のことです。\u003C/p>\n\u003Cp>先ほどの例をリファクタリングしてみましょう。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadingState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'loading'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> SuccessState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> User\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> ErrorState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  error\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// これらを Union でまとめる\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> LoadingState\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> SuccessState\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> ErrorState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ここでのポイントは以下の2点です。\u003C/p>\n\u003Col>\n\u003Cli>各状態を個別の型として定義したこと\u003C/li>\n\u003Cli>全ての型に共通の \u003Ccode>status\u003C/code> プロパティ（ディスクリミネータ）を持たせ、それぞれ固有のリテラル型（\u003Ccode>'loading'\u003C/code>, \u003Ccode>'success'\u003C/code>, \u003Ccode>'error'\u003C/code>）を割り当てたこと\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"なぜこれが嬉しいのかtype-narrowing\">なぜこれが嬉しいのか？（Type Narrowing）\u003C/h2>\n\u003Cp>判別可能ユニオンを使う最大のメリットは、\u003Cstrong>制御フロー解析（Control Flow Analysis）による型の絞り込み\u003C/strong>が効くこと。\u003C/p>\n\u003Cp>\u003Ccode>if\u003C/code> 文や\u003Ccode>switch\u003C/code>文で\u003Ccode>status\u003C/code>をチェックするとTypeScriptは自動的にそのブロック内での型を特定してくれます。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">state\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (state.status \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'loading'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // ここでは state は LoadingState 型として扱われる\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Loading...'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#F97583\"> if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (state.status \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // ここでは state は SuccessState 型として扱われる\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // そのため、data プロパティには確実にアクセスできる（? や ! は不要！）\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">`Hello, ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">state\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">data\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">name\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">    // ここでは state は ErrorState 型\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(state.error.message);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>このように、\u003Ccode>status\u003C/code>が\u003Ccode>'success'\u003C/code>であることが確定した時点で\u003Ccode>data\u003C/code>プロパティが存在することが保証されます。\n逆に\u003Ccode>status\u003C/code>が\u003Ccode>'loading'\u003C/code>のときに\u003Ccode>data\u003C/code>にアクセスしようとするとコンパイルエラーになります。\u003C/p>\n\u003Cp>これが「不正な状態を型レベルで防ぐ」ということになります。\u003C/p>\n\u003Ch2 id=\"実践的なユースケース状態管理とドメインモデル\">実践的なユースケース：状態管理とドメインモデル\u003C/h2>\n\u003Cp>判別可能ユニオンは、単なるエラーハンドリングだけでなく、アプリケーションの状態管理やドメインモデリングでかなり役立つのではなかなと思います。\u003C/p>\n\u003Ch3 id=\"1-画面の-ui-状態管理\">1. 画面の UI 状態管理\u003C/h3>\n\u003Cp>画面の描画状態を管理する際、\u003Ccode>isLoading\u003C/code>や\u003Ccode>isError\u003C/code>といった複数のフラグで管理しようとすると組み合わせの爆発が起き、あり得ない状態（ロード中かつエラー、など）が発生しがちです。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ❌ 悪い例：複数のフラグで管理\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> UIState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  isLoading\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  isError\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  data\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> User\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  error\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// isLoading: true, isError: true みたいな矛盾した状態が作れてしまう\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>これを判別可能ユニオンで定義すれば、状態は常に一つであることが保証される。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ✅ 良い例：状態をユニオンで定義\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> UIState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'idle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'loading'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">data\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> User\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">error\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-ドメインモデル決済方法\">2. ドメインモデル：決済方法\u003C/h3>\n\u003Cp>ECサイトなどで、決済方法によって必要な情報が異なるケースも綺麗に表現できると思います。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> CreditCard\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  method\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'credit-card'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  cardNumber\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  cvc\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  expirationDate\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> BankTransfer\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  method\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'bank-transfer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  bankCode\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  branchCode\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  accountNumber\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> PayPal\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  method\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'paypal'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  email\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> PaymentMethod\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> CreditCard\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> BankTransfer\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> PayPal\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> processPayment\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">payment\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> PaymentMethod\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  switch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (payment.method) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'credit-card'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // payment は CreditCard 型\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">      sendToPaymentGateway\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(payment.cardNumber);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'bank-transfer'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // payment は BankTransfer 型\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">      showBankInfo\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(payment.bankCode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'paypal'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // payment は PayPal 型\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">      redirectToPayPal\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(payment.email);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      break\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"深掘りoptional-property--の危険性\">深掘り：Optional Property (\u003Ccode>?\u003C/code>) の危険性\u003C/h2>\n\u003Cp>TypeScript初心者がやりがちなのがとりあえず\u003Ccode>?\u003C/code>をつけてOptional Propertyにしてしまうことです。\nこれは多くの場合**「あり得ない状態」**を生み出す温床になります。\u003C/p>\n\u003Ch3 id=\"なぜ--は危険なのか\">なぜ \u003Ccode>?\u003C/code> は危険なのか\u003C/h3>\n\u003Cp>例えば、ユーザーの設定情報を表す型を考えてみましょう。\n「通知設定がONの場合は、通知先のメールアドレスが必須」という仕様があるとします。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ❌ 危険な定義\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserSettings\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  notificationsEnabled\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> boolean\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  notificationEmail\u003C/span>\u003Cspan style=\"color:#F97583\">?:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">// ONのとき必須なのに、型上は省略可能...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>この定義では、以下のバグを許容してしまいます。\u003C/p>\n\u003Col>\n\u003Cli>\u003Ccode>notificationsEnabled: true\u003C/code> なのに \u003Ccode>notificationEmail\u003C/code> が \u003Ccode>undefined\u003C/code> になる\u003C/li>\n\u003Cli>\u003Ccode>notificationsEnabled: false\u003C/code> なのに \u003Ccode>notificationEmail\u003C/code> が入っている（これはバグではないかもしれないが、データの整合性としては不自然だと思います）\u003C/li>\n\u003C/ol>\n\u003Ch3 id=\"ユニオン型による解決\">ユニオン型による解決\u003C/h3>\n\u003Cp>これを判別可能ユニオンで書き直すと仕様を型定義に直接落とし込むことができます。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// ✅ 安全な定義\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> NotificationsOn\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  enabled\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  email\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\">// 必須！\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> NotificationsOff\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  enabled\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserSettings\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#B392F0\"> NotificationsOn\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#B392F0\"> NotificationsOff\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 使用例\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> settings\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> UserSettings\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  enabled: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // email: 'test@example.com' // これを書き忘れるとコンパイルエラーになる！\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>このように**「値の組み合わせ」に制約を持たせる**ことができるのがユニオン型の強みです。\n単にプロパティをオプショナルにする前に「それは本当に独立して存在できる値なのか？それとも他の値と連動しているのか？」を考える癖をつけると堅牢な設計になります。\u003C/p>\n\u003Ch3 id=\"3-api-レスポンスのハンドリング\">3. API レスポンスのハンドリング\u003C/h3>\n\u003Cp>APIの結果を\u003Ccode>Result\u003C/code>型として定義する場合によく使われる例です。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Success\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'ok'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">value\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> T\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Failure\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">error\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Result\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> Success\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">T\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> \u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\"> Failure\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> handleResult\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">result\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Result\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">User\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (result.type \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'ok'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(result.value);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    console.\u003C/span>\u003Cspan style=\"color:#B392F0\">error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(result.error);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"4-reducer-のアクションredux--usereducer\">4. Reducer のアクション（Redux / useReducer）\u003C/h3>\n\u003Cp>ReduxやReactの\u003Ccode>useReducer\u003C/code>を使う際のアクション定義はまさに判別可能ユニオンの教科書的な例だと思います。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Action\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'INCREMENT'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'DECREMENT'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">type\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'SET_VALUE'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">payload\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> reducer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">state\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">action\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Action\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  switch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (action.type) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'INCREMENT'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> state \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'DECREMENT'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> state \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'SET_VALUE'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // typeが 'SET_VALUE' のときだけ payload にアクセスできる\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> action.payload;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"typescript-5x-と-satisfies\">TypeScript 5.x と \u003Ccode>satisfies\u003C/code>\u003C/h2>\n\u003Cp>TypeScript 4.9 (5.x 系でも重要) で導入された \u003Ccode>satisfies\u003C/code> オペレーターを使うとユニオン型をより柔軟に扱えます。\u003C/p>\n\u003Cp>例えば、設定オブジェクトで「キーは決まっているが、値は文字列か RGB 配列のどちらか」というケースです。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> Color\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#F97583\"> |\u003C/span>\u003Cspan style=\"color:#F97583\"> readonly\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">number\u003C/span>\u003Cspan style=\"color:#E1E4E8\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThemeConfig\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  primary\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Color\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFAB70\">  secondary\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Color\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> theme\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  primary: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'blue'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  secondary: [\u003C/span>\u003Cspan style=\"color:#79B8FF\">255\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">255\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">255\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">as\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">} \u003C/span>\u003Cspan style=\"color:#F97583\">satisfies\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThemeConfig\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(theme.primary.\u003C/span>\u003Cspan style=\"color:#B392F0\">toUpperCase\u003C/span>\u003Cspan style=\"color:#E1E4E8\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(theme.secondary[\u003C/span>\u003Cspan style=\"color:#79B8FF\">0\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>注意点として配列リテラルは \u003Ccode>as const\u003C/code> を付けないと \u003Ccode>number[]\u003C/code> にワイドニングされてしまいます。\nタプル型として推論させたい場合は \u003Ccode>as const\u003C/code> を明示的に付ける必要があります。\u003C/p>\n\u003Cp>もし \u003Ccode>const theme: ThemeConfig = ...\u003C/code> と型注釈を書いてしまうと\u003Ccode>theme.primary\u003C/code>は \u003Ccode>string | readonly [number, number, number]\u003C/code> 型にワイドニング（広げられて）されてしまい\u003Ccode>toUpperCase()\u003C/code>を呼ぶ前に型チェックが必要になってしまいます。\u003Ccode>satisfies\u003C/code>はこの問題を解決します。\u003C/p>\n\u003Ch2 id=\"現代技術との接続zodとrsc\">現代技術との接続：ZodとRSC\u003C/h2>\n\u003Cp>判別可能ユニオンは最新のライブラリやフレームワークとも相性抜群だと思います。\u003C/p>\n\u003Ch3 id=\"zod-によるランタイム型チェック\">Zod によるランタイム型チェック\u003C/h3>\n\u003Cp>外部からの入力（APIレスポンスやフォーム入力）を判別可能ユニオンとして検証するには\u003Ca href=\"https://zod.dev/\">Zod\u003C/a>の \u003Ccode>z.discriminatedUnion\u003C/code> が便利です。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { z } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'zod'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> LoadingState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> z.\u003C/span>\u003Cspan style=\"color:#B392F0\">object\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ status: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">literal\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'loading'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> SuccessState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> z.\u003C/span>\u003Cspan style=\"color:#B392F0\">object\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({ status: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">literal\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">), data: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">() });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> ErrorState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> z.\u003C/span>\u003Cspan style=\"color:#B392F0\">object\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  status: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">literal\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  error: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">object\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    message: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    code: z.\u003C/span>\u003Cspan style=\"color:#B392F0\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">().\u003C/span>\u003Cspan style=\"color:#B392F0\">optional\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> StateSchema\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> z.\u003C/span>\u003Cspan style=\"color:#B392F0\">discriminatedUnion\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'status'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, [LoadingState, SuccessState, ErrorState]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// 実行時にデータを検証し、型安全なオブジェクトを返す\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> result\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> StateSchema.\u003C/span>\u003Cspan style=\"color:#B392F0\">safeParse\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(apiResponse);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (result.success) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> state\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> result.data; \u003C/span>\u003Cspan style=\"color:#6A737D\">// ここで state は判別可能ユニオン型になる\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>注意点としてAPIレスポンスなどの外部入力はプレーンなJSONで来るため\u003Ccode>z.instanceof(Error)\u003C/code>のようなクラスインスタンスのチェックは通常使えないと思います。\n上記のようにシリアライズ可能なオブジェクト構造で定義するのが実務的かなと思います。\u003C/p>\n\u003Ch3 id=\"react-server-components-rsc\">React Server Components (RSC)\u003C/h3>\n\u003Cp>Next.jsなどのRSCではServer Actionからクライアントに結果を返す際に判別可能ユニオンが役立つと思います。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// server-action.ts\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#9ECBFF\">'use server'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">type\u003C/span>\u003Cspan style=\"color:#B392F0\"> ActionState\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'idle'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">message\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> string\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  |\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { \u003C/span>\u003Cspan style=\"color:#FFAB70\">status\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#FFAB70\">errors\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Record\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">string\u003C/span>\u003Cspan style=\"color:#E1E4E8\">[]> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> async\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> submitForm\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">prevState\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ActionState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#FFAB70\">formData\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> FormData\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> Promise\u003C/span>\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#B392F0\">ActionState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">  // ...処理...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (error) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { status: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, errors: validationErrors };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { status: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, message: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'送信しました'\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>クライアント側では \u003Ccode>status\u003C/code> をチェックするだけでエラー表示や成功メッセージの表示を安全に分岐できると思います。\u003C/p>\n\u003Ch2 id=\"応用網羅性チェックexhaustiveness-checking\">応用：網羅性チェック（Exhaustiveness Checking）\u003C/h2>\n\u003Cp>判別可能ユニオンと \u003Ccode>switch\u003C/code> 文を組み合わせる際、  \u003Cstrong>「全てのパターンを網羅しているか」\u003C/strong> をコンパイラにチェックさせることができます。\nこれには \u003Ccode>never\u003C/code> 型を利用しましょう。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"typescript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> assertNever\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">x\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> never\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#79B8FF\"> never\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  throw\u003C/span>\u003Cspan style=\"color:#F97583\"> new\u003C/span>\u003Cspan style=\"color:#B392F0\"> Error\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'Unexpected object: '\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> x);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">function\u003C/span>\u003Cspan style=\"color:#B392F0\"> render\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">state\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> State\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  switch\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (state.status) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'loading'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'Loading...'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'success'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> `Hello ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">state\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">data\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">name\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    case\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 'error'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> `Error: ${\u003C/span>\u003Cspan style=\"color:#E1E4E8\">state\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">error\u003C/span>\u003Cspan style=\"color:#9ECBFF\">.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">message\u003C/span>\u003Cspan style=\"color:#9ECBFF\">}`\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    default\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // もし将来 State に新しい型（例: 'idle'）が追加された場合、\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">      // ここで型エラーが発生するようになります。\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#B392F0\"> assertNever\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(state);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>default\u003C/code>節で\u003Ccode>state\u003C/code>を\u003Ccode>never\u003C/code>型に代入しようとすることで、もし\u003Ccode>case\u003C/code>の漏れがあれば\u003Ccode>state\u003C/code>が\u003Ccode>never\u003C/code>にならず（残りの型になるため）、コンパイルエラーが発生する。\nこれで将来的な仕様変更によるバグを未然に防げます。\u003C/p>\n\u003Ch2 id=\"まとめ\">まとめ\u003C/h2>\n\u003Cul>\n\u003Cli>単純なUnion型ではなく、**判別可能ユニオン（Discriminated Union）**を使う\u003C/li>\n\u003Cli>共通のプロパティ（ディスクリミネータ）を持たせることで TypeScript が型を自動的に絞り込んでくれる\u003C/li>\n\u003Cli>これにより、\u003Ccode>?\u003C/code>や\u003Ccode>as\u003C/code>を使わずに安全にプロパティにアクセスでき、バグを減らせる\u003C/li>\n\u003Cli>\u003Ccode>never\u003C/code>型を使った網羅性チェックを導入すれば、保守性もさらに向上する\u003C/li>\n\u003C/ul>\n\u003Cp>型定義を少し工夫するだけで、コードの安全性と可読性は劇的に向上します。\n自分もまだまだ理解が甘い部分がありますが日々の勉強で少しずつ理解を深めていきたいと思います。\u003C/p>",{"headings":66,"localImagePaths":119,"remoteImagePaths":120,"frontmatter":121,"imagePaths":124},[67,70,73,76,79,82,85,88,91,94,96,99,102,105,108,111,114,117],{"depth":29,"slug":68,"text":69},"そもそも-union-型とは","そもそも Union 型とは",{"depth":29,"slug":71,"text":72},"単純なunion型の落とし穴","単純なUnion型の落とし穴",{"depth":29,"slug":74,"text":75},"判別可能ユニオンdiscriminated-unionの登場","判別可能ユニオン（Discriminated Union）の登場",{"depth":29,"slug":77,"text":78},"なぜこれが嬉しいのかtype-narrowing","なぜこれが嬉しいのか？（Type Narrowing）",{"depth":29,"slug":80,"text":81},"実践的なユースケース状態管理とドメインモデル","実践的なユースケース：状態管理とドメインモデル",{"depth":35,"slug":83,"text":84},"1-画面の-ui-状態管理","1. 画面の UI 状態管理",{"depth":35,"slug":86,"text":87},"2-ドメインモデル決済方法","2. ドメインモデル：決済方法",{"depth":29,"slug":89,"text":90},"深掘りoptional-property--の危険性","深掘り：Optional Property (?) の危険性",{"depth":35,"slug":92,"text":93},"なぜ--は危険なのか","なぜ ? は危険なのか",{"depth":35,"slug":95,"text":95},"ユニオン型による解決",{"depth":35,"slug":97,"text":98},"3-api-レスポンスのハンドリング","3. API レスポンスのハンドリング",{"depth":35,"slug":100,"text":101},"4-reducer-のアクションredux--usereducer","4. Reducer のアクション（Redux / useReducer）",{"depth":29,"slug":103,"text":104},"typescript-5x-と-satisfies","TypeScript 5.x と satisfies",{"depth":29,"slug":106,"text":107},"現代技術との接続zodとrsc","現代技術との接続：ZodとRSC",{"depth":35,"slug":109,"text":110},"zod-によるランタイム型チェック","Zod によるランタイム型チェック",{"depth":35,"slug":112,"text":113},"react-server-components-rsc","React Server Components (RSC)",{"depth":29,"slug":115,"text":116},"応用網羅性チェックexhaustiveness-checking","応用：網羅性チェック（Exhaustiveness Checking）",{"depth":29,"slug":118,"text":118},"まとめ",[],[],{"title":55,"description":56,"tags":122,"publishedAt":123},[58],["Date","2026-01-14T00:00:00.000Z"],[],"union_or_discriminatedunion.md","semantic-html",{"id":126,"data":128,"body":135,"filePath":136,"digest":137,"rendered":138,"legacyId":203},{"title":129,"description":130,"tags":131,"publishedAt":134,"draft":20},"divで済ませない👿：セマンティックHTMLの基本","フロントエンドエンジニアとして押さえておくべきセマンティックHTMLの基本を解説",[132,133],"HTML","アクセシビリティ",["Date","2026-01-20T00:00:00.000Z"],"~~なぜ今更セマンティックHTMLを書くのかと思うかもしれませんが自分の整理のためなのでお許し下さい🙏~~\n\n## なぜセマンティックHTMLが重要なのか\n\nHTMLには100以上の要素が存在します。（多すぎんだろ...）\nしかし、多くのWebサイトを見てみると `\u003Cdiv>` と `\u003Cspan>` が大量に使われていることに気づく人も多くいるのではないでしょうか？\nこれは要素の持つ意味（セマンティクス）を活かしきれていない状態と言えるかもしれません。\n\nセマンティックHTMLが重要な理由は主に3つあると自分は考えています。\n\n1. **アクセシビリティ**: スクリーンリーダーは要素の種類を読み上げる。`\u003Cnav>` なら「ナビゲーション」、`\u003Cbutton>` なら「ボタン」とユーザーに伝えてくれる\n2. **SEO**: 検索エンジンは構造を理解してページを評価する。`\u003Carticle>` や `\u003Ch1>` の使い方によって文書構造が適切に伝わる\n3. **保守性**: コードを読む人間にとっても、`\u003Cdiv class=\"header\">` より `\u003Cheader>` の方が意図が明確になる\n\n「見た目が同じなら別に`\u003Cdiv>`でいいのでは」と思うかもしれません。確かに見た目だけなら同じになると思います。\nしかしHTMLは見た目を定義するものではなく文書の構造と意味を定義するものです。\n見た目はCSSの役割だと思うのでここをしっかりと使い分けていきましょう。\n\nこの役割分担を意識することでより良いWebページを作ることができると思ってます。\n\n## 構造を示す要素（ランドマーク）\n\nページの骨格を作る要素について見ていきましょう。これらは「ランドマーク」とも呼ばれ、スクリーンリーダーユーザーがページ内をジャンプする際の目印となります。\n\n### よくある書き方\n\n```html\n\u003Cdiv class=\"header\">\n  \u003Cdiv class=\"logo\">サイト名\u003C/div>\n  \u003Cdiv class=\"nav\">\n    \u003Cdiv class=\"nav-item\">ホーム\u003C/div>\n    \u003Cdiv class=\"nav-item\">記事\u003C/div>\n  \u003C/div>\n\u003C/div>\n\u003Cdiv class=\"main\">\n  \u003Cdiv class=\"article\">\n    \u003Cdiv class=\"article-title\">記事タイトル\u003C/div>\n    \u003Cdiv class=\"article-content\">本文...\u003C/div>\n  \u003C/div>\n  \u003Cdiv class=\"sidebar\">関連記事\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"footer\">© 2026\u003C/div>\n```\n\nすべて `\u003Cdiv>` で構成されており、クラス名を読まないと何が何だかわからない状態になっていますね。\n\n今は中々見ない（PJによるか？）かもしれませんが昔はよく見かけたコードでした。\n\n### セマンティックな書き方\n\n```html\n\u003Cheader>\n  \u003Ch1>サイト名\u003C/h1>\n  \u003Cnav>\n    \u003Cul>\n      \u003Cli>\u003Ca href=\"/\">ホーム\u003C/a>\u003C/li>\n      \u003Cli>\u003Ca href=\"/posts\">記事\u003C/a>\u003C/li>\n    \u003C/ul>\n  \u003C/nav>\n\u003C/header>\n\u003Cmain>\n  \u003Carticle>\n    \u003Ch2>記事タイトル\u003C/h2>\n    \u003Cp>本文...\u003C/p>\n  \u003C/article>\n  \u003Caside>関連記事\u003C/aside>\n\u003C/main>\n\u003Cfooter>© 2026\u003C/footer>\n```\n\n各要素の役割が一目でわかるようになったのではないでしょうか。\n\n### 主要なランドマーク要素\n\n| 要素 | 役割 | 対応するARIAロール |\n|------|------|------------------|\n| `\u003Cheader>` | ページやセクションのヘッダー | `banner`（※1） |\n| `\u003Cnav>` | ナビゲーションリンク群 | `navigation` |\n| `\u003Cmain>` | ページのメインコンテンツ（1ページに1つ） | `main` |\n| `\u003Carticle>` | 独立した記事コンテンツ | `article` |\n| `\u003Csection>` | テーマを持つセクション | `region`（※2） |\n| `\u003Caside>` | メインコンテンツと間接的に関連する内容 | `complementary` |\n| `\u003Cfooter>` | ページやセクションのフッター | `contentinfo`（※1） |\n\n- ※1: `\u003Cheader>` と `\u003Cfooter>` が `banner` / `contentinfo` ロールを持つのは、**セクショニングコンテンツ（article, aside, main, nav, section）の中にネストされていない場合**のみ。例えば `\u003Carticle>` 内の `\u003Cheader>` は `banner` ロールを持たない\n- ※2: `\u003Csection>` が `region` ロールを持つのは、**アクセシブルネーム（`aria-label`, `aria-labelledby`, `title` など）を持つ場合**のみ。単に見出しがあるだけでは `region` にはならない\n\nなお、この表はあくまで参考情報です。**セマンティックなHTML要素を使えば、対応するロールは暗黙的に付与される**ため、明示的に `role` 属性を追加する必要はほぼないです。\n\nむしろ、不用意に `role` を指定すると暗黙のロールを上書きしてしまうリスクがあるので注意が必要ですね。\n\n`\u003Csection>` と `\u003Cdiv>` の使い分けで迷う方は多いのではないでしょうか。\n基本的な考え方として、**意味的なまとまりを持つセクション**であれば `\u003Csection>` を、単なるスタイリング目的のグルーピングであれば `\u003Cdiv>` を使うとよいと思います。`\u003Csection>` を使う場合は、見出しを含めてそのセクションが何であるかを明確にすることが推奨されています。\n\n## 見出し階層\n\n見出し要素 `\u003Ch1>` 〜 `\u003Ch6>` は文書のアウトラインを形成する重要な要素です。\n\n### 陥りやすい間違い\n\n```html\n\u003C!-- 見た目で選んでしまう -->\n\u003Ch3>大きすぎるから h3 にしよう\u003C/h3>\n\n\u003C!-- 階層をスキップしてしまう -->\n\u003Ch1>タイトル\u003C/h1>\n\u003Ch4>いきなり h4\u003C/h4>\n```\n\n見出しレベルは**見た目ではなく構造**で決めるべきだと思います。\n見た目を変えたい場合はCSSで調整しましょう。（大事）\n\n[MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Reference/Elements/Heading_Elements#%E4%BD%BF%E7%94%A8%E4%B8%8A%E3%81%AE%E6%B3%A8%E6%84%8F)\n\n### 正しい階層\n\n```html\n\u003Ch1>ページタイトル\u003C/h1>\n  \u003Ch2>セクション1\u003C/h2>\n    \u003Ch3>サブセクション1-1\u003C/h3>\n    \u003Ch3>サブセクション1-2\u003C/h3>\n  \u003Ch2>セクション2\u003C/h2>\n    \u003Ch3>サブセクション2-1\u003C/h3>\n```\n\n見出し（h1〜h6）は文書の構造（階層）を表します。基本は h1 → h2 → h3 のように、セクションの入れ子に合わせて段階的にネストしていきます。\n\n`h2` の次にいきなり `h4` が来るなど、見出しレベルを飛ばすと、スクリーンリーダー利用者が見出し一覧でページを把握する際に「この間に `h3` 相当の内容がある（はず）？」と構造が読み取りづらくなるため、可能な限り避けるべきです。W3C/WAIのチュートリアルでも「見出しレベルのスキップは混乱を招くことがあるので、避けられるなら避ける」とされています。\n\n一方で、順番抜かしは「絶対禁止」というより、意味のある見出し構造を壊さないことが最優先です。W3C/WAIも、例えばサブセクションが終わって上位セクションに戻るようなケース（`h4` の後に新しい `h2` が来る等）は問題にならない、と説明しています。\n\nなお、見出し要素は見た目のサイズ調整のために使うものではありません。小さく見せたい場合は見出しレベルを下げるのではなくCSSで調整しましょう。\n\n### `h1` は1ページに1つにすべきか\n\nよく議論されるテーマかなと思います。\nHTML Standard上、`h1` を複数使っても文法上ただちに誤りになるわけではありません。\n\nただし実務では、次の理由から 1ページに1つ（＝そのページの主題を表す h1 を1つ）に寄せておく方が安全だと考えています。\n\n- 支援技術やツールが、複数の `h1` を常に“意図通りの階層”として扱えるとは限らず、読み手にとって主題が曖昧になることがある（特にアウトライン関連の扱いは頼りづらい）\n- SEO観点でも「複数 h1 が直ちに不利」とは限らない一方、1つにしておくと“主題”が伝わりやすく、監査ツールの指摘も減らせる（Googleも“複数H1はクリティカルではない”というスタンス）\n\n結論として、複数 `h1` が絶対NGというより、読み手にとって主題が明確で、見出し構造が一貫していることが最優先で、迷うなら `h1` は1つにしておくのが安牌かなと自分は考えてます。\n\n## よく間違えやすい要素\n\n### `\u003Cbutton>` と `\u003Cdiv onClick>`\n\nこの間違いは非常に多く見られると思います。\n\n```jsx\n// div に onClick を付けるパターン\n\u003Cdiv className=\"btn\" onClick={handleClick}>\n  送信\n\u003C/div>\n\n// button 要素を使うパターン\n\u003Cbutton type=\"button\" onClick={handleClick}>\n  送信\n\u003C/button>\n```\n\n`\u003Cdiv onClick>` には以下の問題があります。\n\n- キーボードでフォーカスできない（`tabindex=\"0\"` を追加すれば可能）\n- EnterやSpaceキーで押せない（`onKeyDown` を追加すれば可能）\n- スクリーンリーダーが「ボタン」と認識しない（`role=\"button\"` を追加すれば可能）\n\nお気づきだろうか、**これらはすべて `\u003Cbutton>` を使えば最初から備わっている機能**です。\n`\u003Cdiv>`でボタンを再現しようとすると多くの属性やイベントハンドラを追加する必要があり、しかも漏れが生じやすいです。素直に`\u003Cbutton>`を使う方が安全で効率的だと思います。\n\n### `\u003Ca>` と `\u003Cbutton>` の使い分け\n\nどちらもクリックできる要素ですが、役割が異なります。\n\n| 要素 | 役割 | 使用例 |\n|------|------|-----|\n| `\u003Ca>` | 別のページや場所に**移動**する | ページ遷移、アンカーリンク |\n| `\u003Cbutton>` | **アクション**を実行する | フォーム送信、モーダルを開く、カウントを増やす |\n\n```html\n\u003C!-- ページ移動には a を使う -->\n\u003Ca href=\"/about\">会社概要\u003C/a>\n\n\u003C!-- アクション実行には button を使う -->\n\u003Cbutton type=\"button\" onclick=\"openModal()\">詳細を見る\u003C/button>\n\n\u003C!-- よくある間違い: ボタンの見た目にしたいから a を使う -->\n\u003Ca href=\"#\" onclick=\"doSomething(); return false;\">実行\u003C/a>\n```\n\n最後の例は `\u003Ca href=\"#\">` でアクションを実行するパターンですが、これはリンクの本来の意味を損なってしまっています。ボタンの見た目が欲しければ、`\u003Cbutton>` にCSSを適用すればよいです。\n\n### リスト要素の使い分け\n\n```html\n\u003C!-- ul: 順序のないリスト -->\n\u003Cul>\n  \u003Cli>りんご\u003C/li>\n  \u003Cli>みかん\u003C/li>\n  \u003Cli>バナナ\u003C/li>\n\u003C/ul>\n\n\u003C!-- ol: 順序のあるリスト -->\n\u003Col>\n  \u003Cli>材料を準備する\u003C/li>\n  \u003Cli>鍋に水を入れる\u003C/li>\n  \u003Cli>沸騰したらパスタを入れる\u003C/li>\n\u003C/ol>\n\n\u003C!-- dl: 用語と説明のペア -->\n\u003Cdl>\n  \u003Cdt>HTML\u003C/dt>\n  \u003Cdd>文書の構造を定義するマークアップ言語\u003C/dd>\n  \u003Cdt>CSS\u003C/dt>\n  \u003Cdd>文書の見た目を定義するスタイルシート言語\u003C/dd>\n\u003C/dl>\n```\n\nナビゲーションのリンク一覧も `\u003Cul>` + `\u003Cli>` で書くのが適切です。\n\n```html\n\u003Cnav>\n  \u003Cul>\n    \u003Cli>\u003Ca href=\"/\">ホーム\u003C/a>\u003C/li>\n    \u003Cli>\u003Ca href=\"/about\">会社概要\u003C/a>\u003C/li>\n    \u003Cli>\u003Ca href=\"/contact\">お問い合わせ\u003C/a>\u003C/li>\n  \u003C/ul>\n\u003C/nav>\n```\n\n### `\u003Ctable>` の正しい使い方\n\nレイアウト目的で `\u003Ctable>` を使うのは過去の手法であり、現在は避けるべきとされています。\nアクセシビリティ（支援技術への配慮）と保守性の観点から非推奨・禁止されており、本来のデータ表現（表形式データ）にのみ使用しましょう。\n\n```html\n\u003Ctable>\n  \u003Ccaption>2026年1月の売上\u003C/caption>\n  \u003Cthead>\n    \u003Ctr>\n      \u003Cth scope=\"col\">商品名\u003C/th>\n      \u003Cth scope=\"col\">数量\u003C/th>\n      \u003Cth scope=\"col\">金額\u003C/th>\n    \u003C/tr>\n  \u003C/thead>\n  \u003Ctbody>\n    \u003Ctr>\n      \u003Cth scope=\"row\">商品A\u003C/th>\n      \u003Ctd>100\u003C/td>\n      \u003Ctd>¥10,000\u003C/td>\n    \u003C/tr>\n    \u003Ctr>\n      \u003Cth scope=\"row\">商品B\u003C/th>\n      \u003Ctd>50\u003C/td>\n      \u003Ctd>¥7,500\u003C/td>\n    \u003C/tr>\n  \u003C/tbody>\n\u003C/table>\n```\n\nポイントを整理すると以下のようになります。\n\n- `\u003Ccaption>` で表のタイトルを示す\n- `\u003Cthead>`, `\u003Ctbody>` でヘッダーと本体を分ける\n- `\u003Cth>` の `scope` 属性でヘッダーセルの方向を示す（`col` は列、`row` は行）\n\nこれらの要素を適切に使うことで、スクリーンリーダーがセルとヘッダーの関係を正しく伝えられるようになります。\n\n## フォーム要素\n\nフォームはアクセシビリティにおいて特に重要な領域です。\nユーザーが情報を入力する場面では、適切なマークアップがないと操作に支障をきたすことがあります。\n\n### label と入力欄の関連付け\n\n```html\n\u003C!-- label がない -->\n\u003Cinput type=\"text\" placeholder=\"名前\" />\n\n\u003C!-- label はあるが関連付けがない -->\n\u003Clabel>名前\u003C/label>\n\u003Cinput type=\"text\" />\n\n\u003C!-- for 属性で関連付け -->\n\u003Clabel for=\"name\">名前\u003C/label>\n\u003Cinput type=\"text\" id=\"name\" />\n\n\u003C!-- label で input を囲む（暗黙的な関連付け） -->\n\u003Clabel>\n  名前\n  \u003Cinput type=\"text\" />\n\u003C/label>\n```\n\n`\u003Clabel>`が正しく関連付けられていると、ラベルをクリックした際に入力欄にフォーカスが移動する。これはマウス操作でもタッチ操作でも便利な機能。\n\nなお、`placeholder`は`\u003Clabel>`の代わりにはならないです。s\n入力を始めると消えてしまうため「何を入力すべきか」という情報が失われてしまいます。\n\n### fieldset と legend\n\n関連するフォーム項目をグループ化するために使用します。\n\n```html\n\u003Cfieldset>\n  \u003Clegend>配送先住所\u003C/legend>\n  \u003Clabel for=\"zip\">郵便番号\u003C/label>\n  \u003Cinput type=\"text\" id=\"zip\" />\n\n  \u003Clabel for=\"address\">住所\u003C/label>\n  \u003Cinput type=\"text\" id=\"address\" />\n\u003C/fieldset>\n\n\u003Cfieldset>\n  \u003Clegend>お支払い方法\u003C/legend>\n  \u003Clabel>\n    \u003Cinput type=\"radio\" name=\"payment\" value=\"card\" />\n    クレジットカード\n  \u003C/label>\n  \u003Clabel>\n    \u003Cinput type=\"radio\" name=\"payment\" value=\"bank\" />\n    銀行振込\n  \u003C/label>\n\u003C/fieldset>\n```\n\n特にラジオボタンやチェックボックスのグループでは、`\u003Cfieldset>` + `\u003Clegend>` の使用を強く推奨されています。\nスクリーンリーダーは「お支払い方法、ラジオボタングループ」のように読み上げてくれるため、ユーザーは今何を選択しようとしているのかを理解しやすくなります。\n\n### 適切な input type\n\n```html\n\u003C!-- ブラウザが適切なキーボードや UI を提供してくれる -->\n\u003Cinput type=\"email\" />    \u003C!-- メールアドレス用キーボード -->\n\u003Cinput type=\"tel\" />      \u003C!-- 電話番号用キーボード -->\n\u003Cinput type=\"url\" />      \u003C!-- URL用キーボード -->\n\u003Cinput type=\"number\" />   \u003C!-- 数字入力 + スピナー -->\n\u003Cinput type=\"date\" />     \u003C!-- 日付ピッカー -->\n\u003Cinput type=\"search\" />   \u003C!-- 検索用（クリアボタンなど） -->\n```\n\n`type=\"text\"` ですべて済ませてしまうのはもったいない。適切なtypeを指定することで、モバイルでは最適なキーボードが表示され、ブラウザによってはバリデーションや専用のUIも提供される。\n\n## 検証方法\n\n書いたHTMLがセマンティックかどうか、ツールで確認することをお勧めします。\n\n### ブラウザの開発者ツール\n\nChrome DevToolsやFirefox DevToolsには「アクセシビリティ」タブが用意されています。\n要素を選択するとその要素がどのようなロールを持ち、どのような名前でスクリーンリーダーに伝わるかを確認できます。\n\n### axe DevTools\n\nブラウザ拡張機能として提供されており、ページをスキャンしてアクセシビリティの問題を検出してくれます。\n「ラベルのない入力欄」「コントラスト不足」「見出し階層のスキップ」などを自動で発見できるため、セルフチェックに便利です。\n\n### 見出し構造の確認\n\nChrome DevToolsのコンソールで以下のコードを実行すると、ページの見出し構造を確認できます。\n\n```javascript\ndocument.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach(h => {\n  console.log('  '.repeat(parseInt(h.tagName[1]) - 1) + h.tagName + ': ' + h.textContent.trim());\n});\n```\n\nアウトラインが綺麗な階層構造になっていれば、見出しの使い方は適切だと判断できると思います。\n\n## まとめ\n\n紹介した内容を整理すると以下のようになります。\n\n- **div と span は汎用要素**であり、適切なセマンティック要素がないか検討した上で使う\n- **ランドマーク要素**（header, nav, main, article, aside, footer）でページの骨格を構築する\n- **見出し階層**は見た目ではなく文書構造に基づいて決める。h1 → h2 → h3 と順番に使う\n- **インタラクティブな要素**には適切な要素を選ぶ。ボタンは `\u003Cbutton>`、リンクは `\u003Ca>`\n- **フォームでは label を必ず関連付ける**。placeholder はラベルの代替にはならない\n- **ツールで検証**する習慣をつける。axe DevTools や開発者ツールのアクセシビリティタブを活用する\n\nセマンティックHTMLは地味な分野ではあるがこれらを意識できているかどうかでコードの品質は大きく変わってくる。ぜひ日々の開発で意識してみてください。","src/content/blog/semantic-html.md","aa3e5c7d3f388e0e",{"html":139,"metadata":140},"\u003Cp>\u003Cdel>なぜ今更セマンティックHTMLを書くのかと思うかもしれませんが自分の整理のためなのでお許し下さい🙏\u003C/del>\u003C/p>\n\u003Ch2 id=\"なぜセマンティックhtmlが重要なのか\">なぜセマンティックHTMLが重要なのか\u003C/h2>\n\u003Cp>HTMLには100以上の要素が存在します。（多すぎんだろ…）\nしかし、多くのWebサイトを見てみると \u003Ccode>&#x3C;div>\u003C/code> と \u003Ccode>&#x3C;span>\u003C/code> が大量に使われていることに気づく人も多くいるのではないでしょうか？\nこれは要素の持つ意味（セマンティクス）を活かしきれていない状態と言えるかもしれません。\u003C/p>\n\u003Cp>セマンティックHTMLが重要な理由は主に3つあると自分は考えています。\u003C/p>\n\u003Col>\n\u003Cli>\u003Cstrong>アクセシビリティ\u003C/strong>: スクリーンリーダーは要素の種類を読み上げる。\u003Ccode>&#x3C;nav>\u003C/code> なら「ナビゲーション」、\u003Ccode>&#x3C;button>\u003C/code> なら「ボタン」とユーザーに伝えてくれる\u003C/li>\n\u003Cli>\u003Cstrong>SEO\u003C/strong>: 検索エンジンは構造を理解してページを評価する。\u003Ccode>&#x3C;article>\u003C/code> や \u003Ccode>&#x3C;h1>\u003C/code> の使い方によって文書構造が適切に伝わる\u003C/li>\n\u003Cli>\u003Cstrong>保守性\u003C/strong>: コードを読む人間にとっても、\u003Ccode>&#x3C;div class=\"header\">\u003C/code> より \u003Ccode>&#x3C;header>\u003C/code> の方が意図が明確になる\u003C/li>\n\u003C/ol>\n\u003Cp>「見た目が同じなら別に\u003Ccode>&#x3C;div>\u003C/code>でいいのでは」と思うかもしれません。確かに見た目だけなら同じになると思います。\nしかしHTMLは見た目を定義するものではなく文書の構造と意味を定義するものです。\n見た目はCSSの役割だと思うのでここをしっかりと使い分けていきましょう。\u003C/p>\n\u003Cp>この役割分担を意識することでより良いWebページを作ることができると思ってます。\u003C/p>\n\u003Ch2 id=\"構造を示す要素ランドマーク\">構造を示す要素（ランドマーク）\u003C/h2>\n\u003Cp>ページの骨格を作る要素について見ていきましょう。これらは「ランドマーク」とも呼ばれ、スクリーンリーダーユーザーがページ内をジャンプする際の目印となります。\u003C/p>\n\u003Ch3 id=\"よくある書き方\">よくある書き方\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"header\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"logo\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>サイト名&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"nav\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"nav-item\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>ホーム&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"nav-item\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>記事&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"main\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"article\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"article-title\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>記事タイトル&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"article-content\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>本文...&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"sidebar\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>関連記事&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> class\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"footer\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>© 2026&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>すべて \u003Ccode>&#x3C;div>\u003C/code> で構成されており、クラス名を読まないと何が何だかわからない状態になっていますね。\u003C/p>\n\u003Cp>今は中々見ない（PJによるか？）かもしれませんが昔はよく見かけたコードでした。\u003C/p>\n\u003Ch3 id=\"セマンティックな書き方\">セマンティックな書き方\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">header\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>サイト名&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">nav\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">ul\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"/\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>ホーム&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"/posts\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>記事&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">ul\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">nav\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">header\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">main\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">article\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>記事タイトル&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">p\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>本文...&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">p\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">article\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">aside\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>関連記事&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">aside\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">main\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">footer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>© 2026&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">footer\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>各要素の役割が一目でわかるようになったのではないでしょうか。\u003C/p>\n\u003Ch3 id=\"主要なランドマーク要素\">主要なランドマーク要素\u003C/h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>要素\u003C/th>\u003Cth>役割\u003C/th>\u003Cth>対応するARIAロール\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;header>\u003C/code>\u003C/td>\u003Ctd>ページやセクションのヘッダー\u003C/td>\u003Ctd>\u003Ccode>banner\u003C/code>（※1）\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;nav>\u003C/code>\u003C/td>\u003Ctd>ナビゲーションリンク群\u003C/td>\u003Ctd>\u003Ccode>navigation\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;main>\u003C/code>\u003C/td>\u003Ctd>ページのメインコンテンツ（1ページに1つ）\u003C/td>\u003Ctd>\u003Ccode>main\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;article>\u003C/code>\u003C/td>\u003Ctd>独立した記事コンテンツ\u003C/td>\u003Ctd>\u003Ccode>article\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;section>\u003C/code>\u003C/td>\u003Ctd>テーマを持つセクション\u003C/td>\u003Ctd>\u003Ccode>region\u003C/code>（※2）\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;aside>\u003C/code>\u003C/td>\u003Ctd>メインコンテンツと間接的に関連する内容\u003C/td>\u003Ctd>\u003Ccode>complementary\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;footer>\u003C/code>\u003C/td>\u003Ctd>ページやセクションのフッター\u003C/td>\u003Ctd>\u003Ccode>contentinfo\u003C/code>（※1）\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cul>\n\u003Cli>※1: \u003Ccode>&#x3C;header>\u003C/code> と \u003Ccode>&#x3C;footer>\u003C/code> が \u003Ccode>banner\u003C/code> / \u003Ccode>contentinfo\u003C/code> ロールを持つのは、\u003Cstrong>セクショニングコンテンツ（article, aside, main, nav, section）の中にネストされていない場合\u003C/strong>のみ。例えば \u003Ccode>&#x3C;article>\u003C/code> 内の \u003Ccode>&#x3C;header>\u003C/code> は \u003Ccode>banner\u003C/code> ロールを持たない\u003C/li>\n\u003Cli>※2: \u003Ccode>&#x3C;section>\u003C/code> が \u003Ccode>region\u003C/code> ロールを持つのは、\u003Cstrong>アクセシブルネーム（\u003Ccode>aria-label\u003C/code>, \u003Ccode>aria-labelledby\u003C/code>, \u003Ccode>title\u003C/code> など）を持つ場合\u003C/strong>のみ。単に見出しがあるだけでは \u003Ccode>region\u003C/code> にはならない\u003C/li>\n\u003C/ul>\n\u003Cp>なお、この表はあくまで参考情報です。\u003Cstrong>セマンティックなHTML要素を使えば、対応するロールは暗黙的に付与される\u003C/strong>ため、明示的に \u003Ccode>role\u003C/code> 属性を追加する必要はほぼないです。\u003C/p>\n\u003Cp>むしろ、不用意に \u003Ccode>role\u003C/code> を指定すると暗黙のロールを上書きしてしまうリスクがあるので注意が必要ですね。\u003C/p>\n\u003Cp>\u003Ccode>&#x3C;section>\u003C/code> と \u003Ccode>&#x3C;div>\u003C/code> の使い分けで迷う方は多いのではないでしょうか。\n基本的な考え方として、\u003Cstrong>意味的なまとまりを持つセクション\u003C/strong>であれば \u003Ccode>&#x3C;section>\u003C/code> を、単なるスタイリング目的のグルーピングであれば \u003Ccode>&#x3C;div>\u003C/code> を使うとよいと思います。\u003Ccode>&#x3C;section>\u003C/code> を使う場合は、見出しを含めてそのセクションが何であるかを明確にすることが推奨されています。\u003C/p>\n\u003Ch2 id=\"見出し階層\">見出し階層\u003C/h2>\n\u003Cp>見出し要素 \u003Ccode>&#x3C;h1>\u003C/code> 〜 \u003Ccode>&#x3C;h6>\u003C/code> は文書のアウトラインを形成する重要な要素です。\u003C/p>\n\u003Ch3 id=\"陥りやすい間違い\">陥りやすい間違い\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 見た目で選んでしまう -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>大きすぎるから h3 にしよう&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 階層をスキップしてしまう -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>タイトル&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>いきなり h4&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h4\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>見出しレベルは\u003Cstrong>見た目ではなく構造\u003C/strong>で決めるべきだと思います。\n見た目を変えたい場合はCSSで調整しましょう。（大事）\u003C/p>\n\u003Cp>\u003Ca href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Reference/Elements/Heading_Elements#%E4%BD%BF%E7%94%A8%E4%B8%8A%E3%81%AE%E6%B3%A8%E6%84%8F\">MDN\u003C/a>\u003C/p>\n\u003Ch3 id=\"正しい階層\">正しい階層\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>ページタイトル&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>セクション1&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>サブセクション1-1&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>サブセクション1-2&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>セクション2&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>サブセクション2-1&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">h3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>見出し（h1〜h6）は文書の構造（階層）を表します。基本は h1 → h2 → h3 のように、セクションの入れ子に合わせて段階的にネストしていきます。\u003C/p>\n\u003Cp>\u003Ccode>h2\u003C/code> の次にいきなり \u003Ccode>h4\u003C/code> が来るなど、見出しレベルを飛ばすと、スクリーンリーダー利用者が見出し一覧でページを把握する際に「この間に \u003Ccode>h3\u003C/code> 相当の内容がある（はず）？」と構造が読み取りづらくなるため、可能な限り避けるべきです。W3C/WAIのチュートリアルでも「見出しレベルのスキップは混乱を招くことがあるので、避けられるなら避ける」とされています。\u003C/p>\n\u003Cp>一方で、順番抜かしは「絶対禁止」というより、意味のある見出し構造を壊さないことが最優先です。W3C/WAIも、例えばサブセクションが終わって上位セクションに戻るようなケース（\u003Ccode>h4\u003C/code> の後に新しい \u003Ccode>h2\u003C/code> が来る等）は問題にならない、と説明しています。\u003C/p>\n\u003Cp>なお、見出し要素は見た目のサイズ調整のために使うものではありません。小さく見せたい場合は見出しレベルを下げるのではなくCSSで調整しましょう。\u003C/p>\n\u003Ch3 id=\"h1-は1ページに1つにすべきか\">\u003Ccode>h1\u003C/code> は1ページに1つにすべきか\u003C/h3>\n\u003Cp>よく議論されるテーマかなと思います。\nHTML Standard上、\u003Ccode>h1\u003C/code> を複数使っても文法上ただちに誤りになるわけではありません。\u003C/p>\n\u003Cp>ただし実務では、次の理由から 1ページに1つ（＝そのページの主題を表す h1 を1つ）に寄せておく方が安全だと考えています。\u003C/p>\n\u003Cul>\n\u003Cli>支援技術やツールが、複数の \u003Ccode>h1\u003C/code> を常に“意図通りの階層”として扱えるとは限らず、読み手にとって主題が曖昧になることがある（特にアウトライン関連の扱いは頼りづらい）\u003C/li>\n\u003Cli>SEO観点でも「複数 h1 が直ちに不利」とは限らない一方、1つにしておくと“主題”が伝わりやすく、監査ツールの指摘も減らせる（Googleも“複数H1はクリティカルではない”というスタンス）\u003C/li>\n\u003C/ul>\n\u003Cp>結論として、複数 \u003Ccode>h1\u003C/code> が絶対NGというより、読み手にとって主題が明確で、見出し構造が一貫していることが最優先で、迷うなら \u003Ccode>h1\u003C/code> は1つにしておくのが安牌かなと自分は考えてます。\u003C/p>\n\u003Ch2 id=\"よく間違えやすい要素\">よく間違えやすい要素\u003C/h2>\n\u003Ch3 id=\"button-と-div-onclick\">\u003Ccode>&#x3C;button>\u003C/code> と \u003Ccode>&#x3C;div onClick>\u003C/code>\u003C/h3>\n\u003Cp>この間違いは非常に多く見られると思います。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"jsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// div に onClick を付けるパターン\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#B392F0\"> className\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"btn\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> onClick\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{handleClick}>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  送信\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">div\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// button 要素を使うパターン\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"button\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> onClick\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{handleClick}>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  送信\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>&#x3C;div onClick>\u003C/code> には以下の問題があります。\u003C/p>\n\u003Cul>\n\u003Cli>キーボードでフォーカスできない（\u003Ccode>tabindex=\"0\"\u003C/code> を追加すれば可能）\u003C/li>\n\u003Cli>EnterやSpaceキーで押せない（\u003Ccode>onKeyDown\u003C/code> を追加すれば可能）\u003C/li>\n\u003Cli>スクリーンリーダーが「ボタン」と認識しない（\u003Ccode>role=\"button\"\u003C/code> を追加すれば可能）\u003C/li>\n\u003C/ul>\n\u003Cp>お気づきだろうか、\u003Cstrong>これらはすべて \u003Ccode>&#x3C;button>\u003C/code> を使えば最初から備わっている機能\u003C/strong>です。\n\u003Ccode>&#x3C;div>\u003C/code>でボタンを再現しようとすると多くの属性やイベントハンドラを追加する必要があり、しかも漏れが生じやすいです。素直に\u003Ccode>&#x3C;button>\u003C/code>を使う方が安全で効率的だと思います。\u003C/p>\n\u003Ch3 id=\"a-と-button-の使い分け\">\u003Ccode>&#x3C;a>\u003C/code> と \u003Ccode>&#x3C;button>\u003C/code> の使い分け\u003C/h3>\n\u003Cp>どちらもクリックできる要素ですが、役割が異なります。\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>要素\u003C/th>\u003Cth>役割\u003C/th>\u003Cth>使用例\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;a>\u003C/code>\u003C/td>\u003Ctd>別のページや場所に\u003Cstrong>移動\u003C/strong>する\u003C/td>\u003Ctd>ページ遷移、アンカーリンク\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode>&#x3C;button>\u003C/code>\u003C/td>\u003Ctd>\u003Cstrong>アクション\u003C/strong>を実行する\u003C/td>\u003Ctd>フォーム送信、モーダルを開く、カウントを増やす\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- ページ移動には a を使う -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"/about\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>会社概要&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- アクション実行には button を使う -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"button\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> onclick\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\u003C/span>\u003Cspan style=\"color:#B392F0\">openModal\u003C/span>\u003Cspan style=\"color:#9ECBFF\">()\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>詳細を見る&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- よくある間違い: ボタンの見た目にしたいから a を使う -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"#\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> onclick\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\u003C/span>\u003Cspan style=\"color:#B392F0\">doSomething\u003C/span>\u003Cspan style=\"color:#9ECBFF\">(); \u003C/span>\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> false\u003C/span>\u003Cspan style=\"color:#9ECBFF\">;\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>実行&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>最後の例は \u003Ccode>&#x3C;a href=\"#\">\u003C/code> でアクションを実行するパターンですが、これはリンクの本来の意味を損なってしまっています。ボタンの見た目が欲しければ、\u003Ccode>&#x3C;button>\u003C/code> にCSSを適用すればよいです。\u003C/p>\n\u003Ch3 id=\"リスト要素の使い分け\">リスト要素の使い分け\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- ul: 順序のないリスト -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">ul\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>りんご&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>みかん&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>バナナ&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">ul\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- ol: 順序のあるリスト -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">ol\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>材料を準備する&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>鍋に水を入れる&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>沸騰したらパスタを入れる&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">ol\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- dl: 用語と説明のペア -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">dl\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">dt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>HTML&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">dt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">dd\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>文書の構造を定義するマークアップ言語&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">dd\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">dt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>CSS&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">dt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">dd\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>文書の見た目を定義するスタイルシート言語&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">dd\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">dl\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ナビゲーションのリンク一覧も \u003Ccode>&#x3C;ul>\u003C/code> + \u003Ccode>&#x3C;li>\u003C/code> で書くのが適切です。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">nav\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">ul\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"/\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>ホーム&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"/about\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>会社概要&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#B392F0\"> href\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"/contact\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>お問い合わせ&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">a\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">li\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">ul\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">nav\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"table-の正しい使い方\">\u003Ccode>&#x3C;table>\u003C/code> の正しい使い方\u003C/h3>\n\u003Cp>レイアウト目的で \u003Ccode>&#x3C;table>\u003C/code> を使うのは過去の手法であり、現在は避けるべきとされています。\nアクセシビリティ（支援技術への配慮）と保守性の観点から非推奨・禁止されており、本来のデータ表現（表形式データ）にのみ使用しましょう。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">table\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">caption\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>2026年1月の売上&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">caption\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">thead\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">tr\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#B392F0\"> scope\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"col\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>商品名&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#B392F0\"> scope\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"col\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>数量&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#B392F0\"> scope\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"col\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>金額&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">tr\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">thead\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">tbody\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">tr\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#B392F0\"> scope\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"row\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>商品A&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>100&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>¥10,000&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">tr\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">tr\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#B392F0\"> scope\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"row\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>商品B&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">th\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>50&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>¥7,500&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">td\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">tr\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">tbody\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">table\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>ポイントを整理すると以下のようになります。\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>&#x3C;caption>\u003C/code> で表のタイトルを示す\u003C/li>\n\u003Cli>\u003Ccode>&#x3C;thead>\u003C/code>, \u003Ccode>&#x3C;tbody>\u003C/code> でヘッダーと本体を分ける\u003C/li>\n\u003Cli>\u003Ccode>&#x3C;th>\u003C/code> の \u003Ccode>scope\u003C/code> 属性でヘッダーセルの方向を示す（\u003Ccode>col\u003C/code> は列、\u003Ccode>row\u003C/code> は行）\u003C/li>\n\u003C/ul>\n\u003Cp>これらの要素を適切に使うことで、スクリーンリーダーがセルとヘッダーの関係を正しく伝えられるようになります。\u003C/p>\n\u003Ch2 id=\"フォーム要素\">フォーム要素\u003C/h2>\n\u003Cp>フォームはアクセシビリティにおいて特に重要な領域です。\nユーザーが情報を入力する場面では、適切なマークアップがないと操作に支障をきたすことがあります。\u003C/p>\n\u003Ch3 id=\"label-と入力欄の関連付け\">label と入力欄の関連付け\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- label がない -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"text\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> placeholder\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"名前\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- label はあるが関連付けがない -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>名前&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"text\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- for 属性で関連付け -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#B392F0\"> for\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>名前&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"text\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"name\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- label で input を囲む（暗黙的な関連付け） -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  名前\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"text\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>&#x3C;label>\u003C/code>が正しく関連付けられていると、ラベルをクリックした際に入力欄にフォーカスが移動する。これはマウス操作でもタッチ操作でも便利な機能。\u003C/p>\n\u003Cp>なお、\u003Ccode>placeholder\u003C/code>は\u003Ccode>&#x3C;label>\u003C/code>の代わりにはならないです。s\n入力を始めると消えてしまうため「何を入力すべきか」という情報が失われてしまいます。\u003C/p>\n\u003Ch3 id=\"fieldset-と-legend\">fieldset と legend\u003C/h3>\n\u003Cp>関連するフォーム項目をグループ化するために使用します。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">fieldset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">legend\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>配送先住所&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">legend\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#B392F0\"> for\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"zip\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>郵便番号&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"text\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"zip\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#B392F0\"> for\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"address\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>住所&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"text\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> id\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"address\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">fieldset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">fieldset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">legend\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>お支払い方法&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">legend\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"radio\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> name\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"payment\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> value\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"card\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    クレジットカード\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"radio\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> name\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"payment\"\u003C/span>\u003Cspan style=\"color:#B392F0\"> value\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"bank\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    銀行振込\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  &#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">label\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">fieldset\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>特にラジオボタンやチェックボックスのグループでは、\u003Ccode>&#x3C;fieldset>\u003C/code> + \u003Ccode>&#x3C;legend>\u003C/code> の使用を強く推奨されています。\nスクリーンリーダーは「お支払い方法、ラジオボタングループ」のように読み上げてくれるため、ユーザーは今何を選択しようとしているのかを理解しやすくなります。\u003C/p>\n\u003Ch3 id=\"適切な-input-type\">適切な input type\u003C/h3>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"html\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">&#x3C;!-- ブラウザが適切なキーボードや UI を提供してくれる -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"email\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />    \u003C/span>\u003Cspan style=\"color:#6A737D\">&#x3C;!-- メールアドレス用キーボード -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"tel\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />      \u003C/span>\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 電話番号用キーボード -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"url\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />      \u003C/span>\u003Cspan style=\"color:#6A737D\">&#x3C;!-- URL用キーボード -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"number\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />   \u003C/span>\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 数字入力 + スピナー -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"date\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />     \u003C/span>\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 日付ピッカー -->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">input\u003C/span>\u003Cspan style=\"color:#B392F0\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\">=\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"search\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />   \u003C/span>\u003Cspan style=\"color:#6A737D\">&#x3C;!-- 検索用（クリアボタンなど） -->\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>type=\"text\"\u003C/code> ですべて済ませてしまうのはもったいない。適切なtypeを指定することで、モバイルでは最適なキーボードが表示され、ブラウザによってはバリデーションや専用のUIも提供される。\u003C/p>\n\u003Ch2 id=\"検証方法\">検証方法\u003C/h2>\n\u003Cp>書いたHTMLがセマンティックかどうか、ツールで確認することをお勧めします。\u003C/p>\n\u003Ch3 id=\"ブラウザの開発者ツール\">ブラウザの開発者ツール\u003C/h3>\n\u003Cp>Chrome DevToolsやFirefox DevToolsには「アクセシビリティ」タブが用意されています。\n要素を選択するとその要素がどのようなロールを持ち、どのような名前でスクリーンリーダーに伝わるかを確認できます。\u003C/p>\n\u003Ch3 id=\"axe-devtools\">axe DevTools\u003C/h3>\n\u003Cp>ブラウザ拡張機能として提供されており、ページをスキャンしてアクセシビリティの問題を検出してくれます。\n「ラベルのない入力欄」「コントラスト不足」「見出し階層のスキップ」などを自動で発見できるため、セルフチェックに便利です。\u003C/p>\n\u003Ch3 id=\"見出し構造の確認\">見出し構造の確認\u003C/h3>\n\u003Cp>Chrome DevToolsのコンソールで以下のコードを実行すると、ページの見出し構造を確認できます。\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"javascript\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">document.\u003C/span>\u003Cspan style=\"color:#B392F0\">querySelectorAll\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'h1, h2, h3, h4, h5, h6'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">).\u003C/span>\u003Cspan style=\"color:#B392F0\">forEach\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#FFAB70\">h\u003C/span>\u003Cspan style=\"color:#F97583\"> =>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  console.\u003C/span>\u003Cspan style=\"color:#B392F0\">log\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">'  '\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#B392F0\">repeat\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#B392F0\">parseInt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(h.tagName[\u003C/span>\u003Cspan style=\"color:#79B8FF\">1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">]) \u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 1\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> h.tagName \u003C/span>\u003Cspan style=\"color:#F97583\">+\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ': '\u003C/span>\u003Cspan style=\"color:#F97583\"> +\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> h.textContent.\u003C/span>\u003Cspan style=\"color:#B392F0\">trim\u003C/span>\u003Cspan style=\"color:#E1E4E8\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>アウトラインが綺麗な階層構造になっていれば、見出しの使い方は適切だと判断できると思います。\u003C/p>\n\u003Ch2 id=\"まとめ\">まとめ\u003C/h2>\n\u003Cp>紹介した内容を整理すると以下のようになります。\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>div と span は汎用要素\u003C/strong>であり、適切なセマンティック要素がないか検討した上で使う\u003C/li>\n\u003Cli>\u003Cstrong>ランドマーク要素\u003C/strong>（header, nav, main, article, aside, footer）でページの骨格を構築する\u003C/li>\n\u003Cli>\u003Cstrong>見出し階層\u003C/strong>は見た目ではなく文書構造に基づいて決める。h1 → h2 → h3 と順番に使う\u003C/li>\n\u003Cli>\u003Cstrong>インタラクティブな要素\u003C/strong>には適切な要素を選ぶ。ボタンは \u003Ccode>&#x3C;button>\u003C/code>、リンクは \u003Ccode>&#x3C;a>\u003C/code>\u003C/li>\n\u003Cli>\u003Cstrong>フォームでは label を必ず関連付ける\u003C/strong>。placeholder はラベルの代替にはならない\u003C/li>\n\u003Cli>\u003Cstrong>ツールで検証\u003C/strong>する習慣をつける。axe DevTools や開発者ツールのアクセシビリティタブを活用する\u003C/li>\n\u003C/ul>\n\u003Cp>セマンティックHTMLは地味な分野ではあるがこれらを意識できているかどうかでコードの品質は大きく変わってくる。ぜひ日々の開発で意識してみてください。\u003C/p>",{"headings":141,"localImagePaths":197,"remoteImagePaths":198,"frontmatter":199,"imagePaths":202},[142,145,148,150,152,154,156,158,160,163,165,168,171,173,176,178,181,184,187,189,191,194,196],{"depth":29,"slug":143,"text":144},"なぜセマンティックhtmlが重要なのか","なぜセマンティックHTMLが重要なのか",{"depth":29,"slug":146,"text":147},"構造を示す要素ランドマーク","構造を示す要素（ランドマーク）",{"depth":35,"slug":149,"text":149},"よくある書き方",{"depth":35,"slug":151,"text":151},"セマンティックな書き方",{"depth":35,"slug":153,"text":153},"主要なランドマーク要素",{"depth":29,"slug":155,"text":155},"見出し階層",{"depth":35,"slug":157,"text":157},"陥りやすい間違い",{"depth":35,"slug":159,"text":159},"正しい階層",{"depth":35,"slug":161,"text":162},"h1-は1ページに1つにすべきか","h1 は1ページに1つにすべきか",{"depth":29,"slug":164,"text":164},"よく間違えやすい要素",{"depth":35,"slug":166,"text":167},"button-と-div-onclick","\u003Cbutton> と \u003Cdiv onClick>",{"depth":35,"slug":169,"text":170},"a-と-button-の使い分け","\u003Ca> と \u003Cbutton> の使い分け",{"depth":35,"slug":172,"text":172},"リスト要素の使い分け",{"depth":35,"slug":174,"text":175},"table-の正しい使い方","\u003Ctable> の正しい使い方",{"depth":29,"slug":177,"text":177},"フォーム要素",{"depth":35,"slug":179,"text":180},"label-と入力欄の関連付け","label と入力欄の関連付け",{"depth":35,"slug":182,"text":183},"fieldset-と-legend","fieldset と legend",{"depth":35,"slug":185,"text":186},"適切な-input-type","適切な input type",{"depth":29,"slug":188,"text":188},"検証方法",{"depth":35,"slug":190,"text":190},"ブラウザの開発者ツール",{"depth":35,"slug":192,"text":193},"axe-devtools","axe DevTools",{"depth":35,"slug":195,"text":195},"見出し構造の確認",{"depth":29,"slug":118,"text":118},[],[],{"title":129,"description":130,"tags":200,"publishedAt":201},[132,133],["Date","2026-01-20T00:00:00.000Z"],[],"semantic-html.md"]